<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head>
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.4.0 -->
    <script>window.materialVersion = "1.4.0"</script>

    <!-- Title -->
    
    <title>
        
             MyBatis 学习 | 
        
        Hexo
    </title>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">
    
    
    
    
        <link rel="dns-prefetch" href="https://hm.baidu.com"/>
    
    
    
    
    
    
    

    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="theme-color" content="#0097A7">
    <meta name="author" content="枫子翰">
    <meta name="description" itemprop="description" content="">
    <meta name="keywords" content="">

    <!-- Site Verification -->
    
    

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/favicon.png">
    <link rel="icon" sizes="192x192" href="/img/favicon.png">
    <link rel="apple-touch-icon" href="/img/favicon.png">

    <!--iOS -->
    <meta name="apple-mobile-web-app-title" content="Title">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="480">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Hexo">

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="https://pliza.github.io">
    <meta property="og:type" content="blog">
    <meta property="og:title" content=" MyBatis 学习 | Hexo">
    <meta property="og:image" content="/img/favicon.png" />
    <meta property="og:description" content="">
    

    
        <meta property="article:published_time" content="9月 01, 2017" />
        <meta property="article:modified_time" content="9月 06, 2017" />
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:title" content=" MyBatis 学习 | Hexo">
    <meta name="twitter:description" content="">
    <meta name="twitter:image" content="/img/favicon.png">
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://pliza.github.io" />

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="https://pliza.github.io/2017/09/01/MyBatis-学习/index.html" />
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Hexo",
        "logo": "/img/favicon.png"
    },
    "author": {
        "@type": "Person",
        "name": "枫子翰",
        "image": {
            "@type": "ImageObject",
            "url": "/img/favicon.png"
        },
        "description": " It's difficult to say hello with you here ! "
    },
    "headline": " MyBatis 学习",
    "url": "https://pliza.github.io/2017/09/01/MyBatis-学习/index.html",
    "datePublished": "9月 01, 2017",
    "dateModified": "9月 06, 2017",
    "description": "",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://pliza.github.io"
    }
}
</script>


    

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(key){try{localStorage.removeItem(key)}catch(e){}};lsloader.setLS=function(key,val){try{localStorage.setItem(key,val)}catch(e){}};lsloader.getLS=function(key){var val="";try{val=localStorage.getItem(key)}catch(e){val=""}return val};versionString="/*"+materialVersion+"*/";lsloader.clean=function(){try{var keys=[];for(var i=0;i<localStorage.length;i++){keys.push(localStorage.key(i))}keys.forEach(function(key){var data=lsloader.getLS(key);if(data&&data.indexOf(versionString)===-1){lsloader.removeLS(key)}})}catch(e){}};lsloader.clean();lsloader.load=function(jsname,jspath,cssonload){cssonload=cssonload||function(){};var code;code=this.getLS(jsname);if(code&&code.indexOf(versionString)===-1){this.removeLS(jsname);this.requestResource(jsname,jspath,cssonload);return}if(code){var versionNumber=code.split(versionString)[0];if(versionNumber!=jspath){console.log("reload:"+jspath);this.removeLS(jsname);this.requestResource(jsname,jspath,cssonload);return}code=code.split(versionString)[1];if(/\.js?.+$/.test(versionNumber)){this.jsRunSequence.push({name:jsname,code:code});this.runjs(jspath,jsname,code)}else{document.getElementById(jsname).appendChild(document.createTextNode(code));cssonload()}}else{this.requestResource(jsname,jspath,cssonload)}};lsloader.requestResource=function(name,path,cssonload){var that=this;if(/\.js?.+$/.test(path)){this.iojs(path,name,function(path,name,code){that.setLS(name,path+versionString+code);that.runjs(path,name,code)})}else if(/\.css?.+$/.test(path)){this.iocss(path,name,function(code){document.getElementById(name).appendChild(document.createTextNode(code));that.setLS(name,path+versionString+code)},cssonload)}};lsloader.iojs=function(path,jsname,callback){var that=this;that.jsRunSequence.push({name:jsname,code:""});try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(path,jsname,xhr.response);return}}that.jsfallback(path,jsname)}};xhr.send(null)}catch(e){that.jsfallback(path,jsname)}};lsloader.iocss=function(path,jsname,callback,cssonload){var that=this;try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(xhr.response);cssonload();return}}that.cssfallback(path,jsname,cssonload)}};xhr.send(null)}catch(e){that.cssfallback(path,jsname,cssonload)}};lsloader.iofonts=function(path,jsname,callback,cssonload){var that=this;try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(xhr.response);cssonload();return}}that.cssfallback(path,jsname,cssonload)}};xhr.send(null)}catch(e){that.cssfallback(path,jsname,cssonload)}};lsloader.runjs=function(path,name,code){if(!!name&&!!code){for(var k in this.jsRunSequence){if(this.jsRunSequence[k].name==name){this.jsRunSequence[k].code=code}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var script=document.createElement("script");script.appendChild(document.createTextNode(this.jsRunSequence[0].code));script.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(script);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var that=this;var script=document.createElement("script");script.src=this.jsRunSequence[0].path;script.type="text/javascript";this.jsRunSequence[0].status="loading";script.onload=function(){that.jsRunSequence.shift();if(that.jsRunSequence.length>0){that.runjs()}};document.body.appendChild(script)}};lsloader.tagLoad=function(path,name){this.jsRunSequence.push({name:name,code:"",path:path,status:"failed"});this.runjs()};lsloader.jsfallback=function(path,name){if(!!this.jsnamemap[name]){return}else{this.jsnamemap[name]=name}for(var k in this.jsRunSequence){if(this.jsRunSequence[k].name==name){this.jsRunSequence[k].code="";this.jsRunSequence[k].status="failed";this.jsRunSequence[k].path=path}}this.runjs()};lsloader.cssfallback=function(path,name,cssonload){if(!!this.cssnamemap[name]){return}else{this.cssnamemap[name]=1}var link=document.createElement("link");link.type="text/css";link.href=path;link.rel="stylesheet";link.onload=link.onerror=cssonload;var root=document.getElementsByTagName("script")[0];root.parentNode.insertBefore(link,root)};lsloader.runInlineScript=function(scriptId,codeId){var code=document.getElementById(codeId).innerText;this.jsRunSequence.push({name:scriptId,code:code});this.runjs()};lsloader.loadCombo=function(jslist){var updateList="";var requestingModules={};for(var k in jslist){var LS=this.getLS(jslist[k].name);if(!!LS){var version=LS.split(versionString)[0];var code=LS.split(versionString)[1]}else{var version=""}if(version==jslist[k].path){this.jsRunSequence.push({name:jslist[k].name,code:code,path:jslist[k].path})}else{this.jsRunSequence.push({name:jslist[k].name,code:null,path:jslist[k].path,status:"comboloading"});requestingModules[jslist[k].name]=true;updateList+=(updateList==""?"":";")+jslist[k].path}}var that=this;if(!!updateList){var xhr=new XMLHttpRequest;xhr.open("get",combo+updateList,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){that.runCombo(xhr.response,requestingModules);return}}else{for(var i in that.jsRunSequence){if(requestingModules[that.jsRunSequence[i].name]){that.jsRunSequence[i].status="failed"}}that.runjs()}}};xhr.send(null)}this.runjs()};lsloader.runCombo=function(comboCode,requestingModules){comboCode=comboCode.split("/*combojs*/");comboCode.shift();for(var k in this.jsRunSequence){if(!!requestingModules[this.jsRunSequence[k].name]&&!!comboCode[0]){this.jsRunSequence[k].status="comboJS";this.jsRunSequence[k].code=comboCode[0];this.setLS(this.jsRunSequence[k].name,this.jsRunSequence[k].path+versionString+comboCode[0]);comboCode.shift()}}this.runjs()}})();</script>

    <!-- Import CSS & jQuery -->
    
        <style id="css/material.min.css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("css/material.min.css","/css/material.min.css?fJTiM/K1J3dWIruo3pxtAw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";})</script>
        <style id="css/style.min.css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("css/style.min.css","/css/style.min.css?oCSEO3ST+aEypEwttTDI9g==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";})</script>
        
        
            <style>
    
    
    
    
    
    
    
    .footer-sns-github {
        background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgY2xhc3M9Imljb24iIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiPjxwYXRoIGQ9Ik0xMzguNCA3OGMtNi40IDEuNC0yNi40IDE0LjItMzYgMjIuOC04IDcuMi0yMiAyOS44LTI0LjQgMzkuMi0xLjYgNi40LTIgMTEzLjItMS42IDM2OCAuNiAyOTkuNCAxIDM1OS44IDMuNCAzNjQgMTEgMjAuMiAyMS42IDMyLjQgMzcuMiA0MyAxNS42IDEwLjYgMTcuMiAxMS4yIDM0LjIgMTMuMiAxMC42IDEuMiA2My40IDEuNiAxMjcuNiAxLjRsMTA5LjYtLjYgNi02LjggNi4yLTYuOC0xLjItMjUuMmMtLjgtMTUuOC0uMi0zMy40IDEuNC00Ny4yIDMtMjUuNCAxLjQtMzYuMi02LTQzLjItNS00LjYtNi4yLTQuOC0zMC42LTQuMi0yNy42LjgtMjQgMS42LTY4LjgtMTYtOC42LTMuNC0yMi42LTE4LTI4LjQtMjkuOC0xMS40LTIyLjgtMjctNDUtMzkuMi01NS42LTE0LTEyLjItMTkuOC0yMC44LTE5LjgtMjguNiAwLTExLjYgMTMuNi0xMi42IDMzLjItMi40IDE2LjYgOC44IDIwLjggMTIuNCA0MC44IDM2LjIgMjQuMiAyOC42IDMxIDMzLjYgNTQgMzkuNiAxNS4yIDQgNDIuMiAzIDUxLjQtMS44IDktNC42IDE4LTE1LjIgMjQuNC0yOS4yIDExLjQtMjQuMiA3LjQtMzEuMi0yMC42LTM2LjgtOS44LTItMjkuMi04LTQzLjQtMTMuNC00MC40LTE1LjgtNjQuNi0zNy40LTg1LjQtNzYuMi0xMS42LTIxLjgtMTUuNC0zMy0xOC4yLTUzLjYtNC4yLTMyLjItNC44LTYwLjItMS40LTg0IDMuNC0yMy44IDYuOC0zMi44IDIwLjItNTQgNC02IDguOC0xNS42IDExLTIxLjQgMy44LTEwIDMuOC0xMS42IDEtMzAtNS4yLTM0LjItMy4yLTUyLjQgNy42LTcwLjIgNy4yLTEyLjIgMTUtMTcuMiAyNC4yLTE1LjggMTIuOCAyLjIgNTIgMTcuNCA2Ni44IDI2LjIgMjYgMTUgMjkgMTUuNCA4Mi40IDcuMiAyNC42LTMuOCAzMy44LTQuMiA2MC0zLjIgMTcgLjYgNDEuNCAzIDU0IDUuMiAzOC40IDYuNiA0OS42IDUuMiA3My0xMCA2LjYtNC4yIDE3LjQtOS40IDI0LTExLjYgNi42LTIuMiAxNi01LjggMjEtOC4yIDEzLTYgMjgtNS42IDM1LjYuOCAxMi40IDEwLjQgMTguNiA0MS40IDE0LjQgNzEuNi00LjQgMzAuNi0zIDM5LjQgOC40IDUzLjggMy40IDQuNCAxMS4yIDE5LjIgMTcuNCAzMy4yTDc3NSA0NDN2NzhsLTEwIDI4Yy0xNS4yIDQzLjItMzYuOCA3My4yLTY2LjIgOTIuOC0xMy40IDguOC01NyAyNS40LTc2LjggMjktMjguMiA1LjItMzMuMiAxMi42LTIyIDMyLjIgMTEuMiAxOS40IDEyLjQgMzIuOCAxMS42IDEyOS42bC0uNiA4NS44IDUuNCA0LjZjMy42IDMgOS4yIDUuMiAxNiA2IDUuOC44IDYwLjIgMSAxMjAuNi42IDEwOC40LS42IDExMC4yLS42IDExOS01IDI0LTExLjYgNDAtMjcuNCA1MS42LTUwLjZsNS40LTExIC42LTM0N2MuNC0yMjMtLjItMzUzLjQtMS40LTM2NS0yLTE3LTIuNi0xOC42LTEzLTM0LTEwLjYtMTUuNC0yMi44LTI2LjItNDMuMi0zNy4yLTQuMi0yLjQtNjQuNi0yLjgtMzY2LTMuMi0xOTguNiAwLTM2NCAuNC0zNjcuNiAxLjR6Ii8+PC9zdmc+);
    }
    
    
    
    
    
</style>

        
        <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-color: #F5F5F5;
      }

      /* blog_info bottom background */
      #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{
        background-color: #fff;
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"rel="stylesheet">


        <script>lsloader.load("js/jquery.min.js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==")</script>
    
    
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Analytics -->
    <script>
    var _hmt = _hmt || [];
    (function() {var hm = document.createElement('script');
    hm.src = 'https://hm.baidu.com/hm.js?a5318df0405416953902f4a73d16d2de';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(hm, s);
    })();
</script>

    <!-- Custom Head -->
    
</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->

    <!-- Left aligned menu below button -->
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    
    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#从-XML-中构建-SqlSessionFactoryBuilder"><span class="post-toc-number">1.</span> <span class="post-toc-text">从 XML 中构建 SqlSessionFactoryBuilder</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#从-MyBatis-xml-文件中获取-SqlSessionFactoryBuilder-对象，之后获取-SqlSessionFactory-以及-SqlSession"><span class="post-toc-number">2.</span> <span class="post-toc-text">从 MyBatis.xml 文件中获取 SqlSessionFactoryBuilder 对象，之后获取 SqlSessionFactory 以及 SqlSession</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#接口式编程"><span class="post-toc-number">3.</span> <span class="post-toc-text">接口式编程</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#是否需要提交"><span class="post-toc-number">4.</span> <span class="post-toc-text">是否需要提交</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Mapper-xml-配置文件"><span class="post-toc-number">5.</span> <span class="post-toc-text">Mapper.xml 配置文件</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#参数处理"><span class="post-toc-number">6.</span> <span class="post-toc-text">参数处理</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#返回值类型"><span class="post-toc-number">7.</span> <span class="post-toc-text">返回值类型</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#关联查询"><span class="post-toc-number">8.</span> <span class="post-toc-text">关联查询</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#MyBatis-缓存"><span class="post-toc-number">9.</span> <span class="post-toc-text">MyBatis 缓存</span></a></li></ol>
        <!--
        <li class="mdl-menu__item">
            Some Action
        </li>
        -->
    </ul>
    





<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script type="text/ls-javascript" id="post-thumbnail-script">
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').attr('data-original', '/img/random/material-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script>

        
    
            <p class="article-headline-p">
                 MyBatis 学习
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/avatar.jpg" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>枫子翰</strong>
        <span>9月 01, 2017</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    
        <button id="article-functions-qrcode-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">devices other</i>
    <span class="visuallyhidden">devices other</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-qrcode-button">
    <li class="mdl-menu__item">在其它设备中阅读本文章</li>
    
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACaElEQVR42u3aUY7CMAwFQO5/6d0L0PJe0qQFTb8QLImHlRLL9uvvp58XHh4eHh4eHh7ew3iv+Dn61tE6bzaeXjOKDQ8PD28L78NRG4R7HtD5yufrt7Hh4eHh7eQdhXX++ujTq9bPv4uHh4f3XbwWmRz0eHh4eL/ES8JtU+18Xzw8PLzn8NrDOue1RY3bai14eHh4MS9vMu1/vbW/h4eHhxfw6pGmMqU+T52To39q6AoPDw9vAS8/iJMQ88LEWOk2GkfAw8PDW8xLCrXzZYi8UJv8fZ1S4+Hh4V3KWzcKkCfN81cLHh4e3k5evlBycM83zOZLGHh4eHh7eO2gVXRAlyOq59dScc3g4eHhLeaNLZSEkhcU8h80ukLw8PDwFvPatlZ+fCcpcluuTf4BeHh4eHfxVvwE+Y75T4OHh4d3F68tK+RDA+0I1wU74uHh4S3m1SNNcRkiQV6VuOPh4eHt513Wtp8G5KWKogGGh4eHt4CXJNPJyFT+znxSXt97eHh4eBfx2iO+GH6KE+62QPyhBIyHh4e3mNc2+/OxqrYMkaTO0Tt4eHh4W3htOyq/DPJd8uvqQ1KOh4eHt5HXtvDbC2CwuFAm9Hh4eHg7ee1yY6GvS8Hx8PDw9vDaZ3DL8oKZStbx8PDwFvPaQ3xs7CAPOm99FSk1Hh4e3gLe2BDAfLMquVTqRB8PDw9vI68de8rT7raF1hZ58fDw8L6FN1Y4GBspSIa98PDw8J7My5v9edAz6+Dh4eHdxUuKEW3ZIi9P5G0zPDw8vCfw2gGp/KqYL9HWCT0eHh7eYt7vPXh4eHh4eHh4eA94/gHO885KOOhZ+gAAAABJRU5ErkJggg==">
    
</ul>
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        
    </ul>
    

    <!-- Share -->
    <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title= MyBatis 学习&url=https://pliza.github.io/2017/09/01/MyBatis-学习/index.html&pic=&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text= MyBatis 学习&url=https://pliza.github.io/2017/09/01/MyBatis-学习/index.html&via=枫子翰" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=https://pliza.github.io/2017/09/01/MyBatis-学习/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=https://pliza.github.io/2017/09/01/MyBatis-学习/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    

    <!-- Share Telegram -->
    
</ul>

</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <blockquote>
<p>MyBatis 避免了几乎所有的 JDBC 代码和手动设置参数以及获取结果集。</p>
</blockquote>
<p>MyBatis 通过 <strong>SqlSessionFactory</strong> 来管理数据库，SqlSessionFactory 可以通过 <strong>SqlSessionFactory</strong> 获取。SqlSessionFactory 通过 <strong>SqlSessionFactoryBuilder</strong> 获取，SqlSessionFactoryBuilder 通过 XML 配置文件获取。</p>
<h3 id="从-XML-中构建-SqlSessionFactoryBuilder"><a href="#从-XML-中构建-SqlSessionFactoryBuilder" class="headerlink" title="从 XML 中构建 SqlSessionFactoryBuilder"></a>从 XML 中构建 SqlSessionFactoryBuilder</h3><p>新建 MyBatis.xml 文件，配置如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</div><div class="line">&lt;!DOCTYPE configuration</div><div class="line">PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;</div><div class="line">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;</div><div class="line">&lt;configuration&gt;</div><div class="line"></div><div class="line">	&lt;!-- 加载 jdbc配置文件 --&gt;</div><div class="line">	&lt;properties resource=&quot;jdbc.properties&quot;&gt;&lt;/properties&gt;</div><div class="line">	</div><div class="line">	&lt;environments default=&quot;development&quot;&gt;</div><div class="line">	</div><div class="line">		&lt;environment id=&quot;development&quot;&gt;</div><div class="line">			&lt;transactionManager type=&quot;JDBC&quot; /&gt;</div><div class="line">			&lt;dataSource type=&quot;POOLED&quot;&gt;</div><div class="line">				&lt;property name=&quot;driver&quot; value=&quot;$&#123;jdbc.driver&#125;&quot; /&gt;</div><div class="line">				&lt;property name=&quot;url&quot; value=&quot;$&#123;jdbc.url&#125;&quot; /&gt;</div><div class="line">				&lt;property name=&quot;username&quot; value=&quot;$&#123;jdbc.username&#125;&quot; /&gt;</div><div class="line">				&lt;property name=&quot;password&quot; value=&quot;$&#123;jdbc.password&#125;&quot; /&gt;</div><div class="line">			&lt;/dataSource&gt;</div><div class="line">		&lt;/environment&gt;</div><div class="line">		</div><div class="line">	&lt;/environments&gt;</div><div class="line">	</div><div class="line">	&lt;mappers&gt;</div><div class="line">		&lt;package name=&quot;com.zst.mapper&quot; /&gt;&lt;!-- 包扫描，要求  Java接口名  必须和  Mapper.xml 文件名相同--&gt;</div><div class="line">	&lt;/mappers&gt;</div><div class="line">	</div><div class="line">&lt;/configuration&gt;</div></pre></td></tr></table></figure></p>
<h3 id="从-MyBatis-xml-文件中获取-SqlSessionFactoryBuilder-对象，之后获取-SqlSessionFactory-以及-SqlSession"><a href="#从-MyBatis-xml-文件中获取-SqlSessionFactoryBuilder-对象，之后获取-SqlSessionFactory-以及-SqlSession" class="headerlink" title="从 MyBatis.xml 文件中获取 SqlSessionFactoryBuilder 对象，之后获取 SqlSessionFactory 以及 SqlSession"></a>从 MyBatis.xml 文件中获取 SqlSessionFactoryBuilder 对象，之后获取 SqlSessionFactory 以及 SqlSession</h3><p>SqlSession 对象表示服务器和数据库的一次会话，非线程安全，不能定义在类中，可能会出现多个线程公用这个对象，只能定义在方法中。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">public SqlSessionFactory getSqlSessionFactroy()&#123;//获取 SqlSessionFactory </div><div class="line">		String resource = &quot;mybatis-config.xml&quot;;</div><div class="line">		InputStream inputStream=null;</div><div class="line">		try &#123;</div><div class="line">			inputStream = Resources.getResourceAsStream(resource);</div><div class="line">		&#125; catch (IOException e) &#123;</div><div class="line">			// TODO Auto-generated catch block</div><div class="line">			e.printStackTrace();</div><div class="line">		&#125;</div><div class="line">		SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream);</div><div class="line">		return sqlSessionFactory;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">SqlSessionFactory sqlSessionFactory=getSqlSessionFactroy();</div><div class="line">SqlSession session = sqlSessionFactory.openSession();</div></pre></td></tr></table></figure></p>
<h3 id="接口式编程"><a href="#接口式编程" class="headerlink" title="接口式编程"></a>接口式编程</h3><p>把接口和对应的 Mapper.xml 文件放在同一个包下，XML 文件中对应的 namespace=”全类名”，SQL语句的 id 是接口中的方法名，并且 Mapper.xml 文件名称相同： EmployeeMapper.java 接口 对应 EmployeeMapper.xml 文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">Java类</div><div class="line">public interface EmployeeMapper &#123;</div><div class="line"></div><div class="line">	public Employee getEmployeeByID(Integer id);</div><div class="line">	</div><div class="line">&#125;</div><div class="line"></div><div class="line">//对应的 Mapper.xml 文件</div><div class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</div><div class="line">&lt;!DOCTYPE mapper</div><div class="line">PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</div><div class="line">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;</div><div class="line"></div><div class="line"></div><div class="line">&lt;mapper namespace=&quot;com.zst.mapper.EmployeeMapper&quot;&gt;</div><div class="line">&lt;!-- namespace 将 xml 文件和 接口文件关联 --&gt;</div><div class="line"></div><div class="line">	&lt;select id=&quot;getEmployeeByID&quot; resultType=&quot;com.zst.bean.Employee&quot; parameterType=&quot;Integer&quot;&gt;</div><div class="line">		select * from tbl_employee where id = #&#123;id&#125;</div><div class="line">	&lt;/select&gt;</div><div class="line">	</div><div class="line">&lt;/mapper&gt;</div></pre></td></tr></table></figure></p>
<h3 id="是否需要提交"><a href="#是否需要提交" class="headerlink" title="是否需要提交"></a>是否需要提交</h3><p>在 MyBatis 中默认是开启事务的，在关闭 session 之前需要提交事务，只有查询操作是不需要提交的。</p>
<h3 id="Mapper-xml-配置文件"><a href="#Mapper-xml-配置文件" class="headerlink" title="Mapper.xml 配置文件"></a>Mapper.xml 配置文件</h3><p>属性<br>useGeneratedKeys：MyBatis 使用 JDBC 的 getGeneratedKeys 方法获取由数据库自动生成的主键，设置成主键递增，默认 false（仅对 insert 和 update 有用）<br>keyProperty：MyBatis 会通过 getGeneratedKeys 的返回值或者通过 insert 语句的 selectKey 子元素设置它的键值（仅对 insert 和 update 有用）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">//获取自动生成的主键</div><div class="line">&lt;insert id=&quot;insertEmployee&quot; parameterType=&quot;com.zst.bean.Employee&quot;  useGeneratedKeys=&quot;true&quot;  keyProperty=&quot;id&quot;&gt;</div><div class="line">		insert into tbl_employee (id, last_name, gender, email)  values(#&#123;id&#125;,#&#123;last_name&#125;,#&#123;gender&#125;,#&#123;email&#125;)</div><div class="line">&lt;/insert&gt;</div></pre></td></tr></table></figure></p>
<h3 id="参数处理"><a href="#参数处理" class="headerlink" title="参数处理"></a>参数处理</h3><p>当方法有多个形参时，添加注解 @Param(“”)  X类型  xx<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">//接口中的方法</div><div class="line">public boolean changeNameAndEmail(@Param(&quot;Name&quot;) String name,																				  @Param(&quot;Email&quot;) String email,																			      @Param(&quot;Id&quot;) Integer id);</div><div class="line">Mapper.xml</div><div class="line">	&lt;update id=&quot;changeNameAndEmail&quot;&gt;</div><div class="line">			update tbl_employee set  last_name=#&#123;Name&#125;,email=#&#123;Email&#125;  where id=#&#123;Id&#125;</div><div class="line">	&lt;/update&gt;</div></pre></td></tr></table></figure></p>
<p>当方法有一个形参，且不是 POJO 类型，可以随便用 #{xxxxxxsss} 取值<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">public Employee getEmployeeByID(Integer id);</div><div class="line"></div><div class="line"></div><div class="line">&lt;sql id=&quot;Base_Column_List&quot; &gt;</div><div class="line">    id, last_name, gender, email</div><div class="line">&lt;/sql&gt;</div><div class="line">&lt;select id=&quot;getEmployeeByID&quot; resultType=&quot;com.zst.bean.Employee&quot; parameterType=&quot;Integer&quot;&gt;</div><div class="line">	select 	&lt;include refid=&quot;Base_Column_List&quot; /&gt;  from tbl_employee where id = #&#123;id&#125;</div><div class="line">&lt;/select&gt;</div></pre></td></tr></table></figure></p>
<p>#和 $ 的区别<br>#{}:是以预编译的形式，将参数设置到sql语句中，PreparedStatement;防止sql注入 Insert into …… values(?,?,?)<br>${}:取出的值直接拼装在sql语句中，会有安全问题； Insert into …… values(“xx”,x,xxxs)<br>大多情况下，我们取参数的值都应该去使用#{};</p>
<p>原生JDBC不支持占位符的地方我们就可以使用${}进行取值<br>比如分表、排序；按照年份分表拆分<br>select <em> from ${year}_salary where xxx;[表名不支持预编译]<br>select </em> from tbl_employee order by ${f_name} ${order} :排序是不支持预编译的！</p>
<h3 id="返回值类型"><a href="#返回值类型" class="headerlink" title="返回值类型"></a>返回值类型</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">//1.返回类型值为 List </div><div class="line">public List&lt;Employee&gt; getAllEmployee();</div><div class="line"></div><div class="line">&lt;!-- 表中字段名和属性名不对应时使用 resultMap --&gt;</div><div class="line">&lt;resultMap type=&quot;com.zst.bean.Employee&quot; id=&quot;EmployeeType&quot;&gt;</div><div class="line">	&lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt;</div><div class="line">	&lt;result column=&quot;last_name&quot; property=&quot;lastName&quot;/&gt;</div><div class="line">	&lt;result column=&quot;genders&quot; property=&quot;gender&quot;/&gt;</div><div class="line">	&lt;result column=&quot;email&quot; property=&quot;email&quot;/&gt;	</div><div class="line">&lt;/resultMap&gt;</div><div class="line">&lt;!-- 返回值为 list集合 --&gt;</div><div class="line">&lt;select id=&quot;getAllEmployee&quot;  resultMap=&quot;EmployeeType&quot;&gt;</div><div class="line">	select * 	from tbl_employee</div><div class="line">&lt;/select&gt;</div><div class="line"></div><div class="line"></div><div class="line">//2.返回类型为 POJO 对象</div><div class="line">	public Employee getEmployeeByID(Integer id);</div><div class="line"></div><div class="line">	&lt;select id=&quot;getEmployeeByID&quot; resultType=&quot;com.zst.bean.Employee&quot;</div><div class="line">		parameterType=&quot;Integer&quot;&gt;</div><div class="line">		select</div><div class="line">		&lt;include refid=&quot;Base_Column_List&quot; /&gt;</div><div class="line">		from tbl_employee where id = #&#123;id&#125;</div><div class="line">	&lt;/select&gt;</div></pre></td></tr></table></figure>
<h3 id="关联查询"><a href="#关联查询" class="headerlink" title="关联查询"></a>关联查询</h3><ol>
<li>一对’一’、多对’一’的把 ‘一’ 放入另外一个里边，作为属性<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div></pre></td><td class="code"><pre><div class="line">//员工和部门：多对一，把 部门 作为属性放入 员工类中</div><div class="line">Class:</div><div class="line">public class Employee &#123;</div><div class="line">	private Integer id;</div><div class="line">	private String lastName;</div><div class="line">	private Character gender;</div><div class="line">	private String email;</div><div class="line">	private Department depart;//员工所属的部门</div><div class="line">&#125;</div><div class="line"></div><div class="line">public class Department &#123;</div><div class="line">	private Integer id;</div><div class="line">	private String deptName;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Mapper文件：</div><div class="line">	&lt;!-- 关联查询方式一 --&gt;</div><div class="line">	&lt;resultMap type=&quot;com.zst.bean.Employee&quot; id=&quot;EmployeeType&quot;&gt;</div><div class="line">		&lt;id column=&quot;id&quot; property=&quot;id&quot; /&gt;</div><div class="line">		&lt;result column=&quot;user_name&quot; property=&quot;lastName&quot; /&gt;</div><div class="line">		&lt;result column=&quot;email&quot; property=&quot;email&quot; /&gt;</div><div class="line">		&lt;result column=&quot;gender&quot; property=&quot;gender&quot; /&gt;</div><div class="line">		&lt;!-- Employee 的 Depart字段 --&gt;</div><div class="line">		&lt;result column=&quot;departID&quot; property=&quot;depart.id&quot; /&gt;</div><div class="line">		&lt;result column=&quot;departName&quot; property=&quot;depart.deptName&quot; /&gt;</div><div class="line">	&lt;/resultMap&gt;</div><div class="line"></div><div class="line">	&lt;!-- 方式二 --&gt;</div><div class="line">	&lt;!--column 对应 Sql 语句 select 后面的列名--&gt;</div><div class="line">	&lt;resultMap type=&quot;com.zst.bean.Employee&quot; id=&quot;EmployeeType1&quot;&gt;</div><div class="line">		&lt;id column=&quot;id&quot; property=&quot;id&quot; /&gt;</div><div class="line">		&lt;result column=&quot;user_name&quot; property=&quot;lastName&quot; /&gt;</div><div class="line">		&lt;result column=&quot;email&quot; property=&quot;email&quot; /&gt;</div><div class="line">		&lt;result column=&quot;gender&quot; property=&quot;gender&quot; /&gt;</div><div class="line">		&lt;!-- </div><div class="line">		association可以指定联合的javaBean对象 </div><div class="line">		property=&quot;depart&quot;:指定哪个属性是联合的对象——属性名</div><div class="line">		javaType:指定这个属性对象的类型【不能省略】——属性对应的类型</div><div class="line">		 --&gt;</div><div class="line">		&lt;association property=&quot;depart&quot; javaType=&quot;com.zst.bean.Department&quot;&gt;</div><div class="line">			&lt;id  column=&quot;departID&quot; property=&quot;id&quot;/&gt;</div><div class="line">			&lt;result column=&quot;departName&quot; property=&quot;deptName&quot;/&gt;</div><div class="line">		&lt;/association&gt;</div><div class="line">	&lt;/resultMap&gt;</div><div class="line"></div><div class="line">&lt;!-- public Employee getEmployeeByID(Integer id); --&gt;</div><div class="line">	&lt;select id=&quot;getEmployeeByID&quot; resultMap=&quot;EmployeeType1&quot;</div><div class="line">		parameterType=&quot;Integer&quot;&gt;</div><div class="line">		SELECT e.id , e.user_name , e.email ,e.gender , d.id as	departID , d.dept_name as departName</div><div class="line">		FROM tbl_employee e ,tbl_dept d</div><div class="line">		where e.d_id=d.id and e.id=#&#123;id&#125;</div><div class="line">	&lt;/select&gt;</div><div class="line"></div><div class="line">&lt;!-- 方式三 分步查询</div><div class="line">先查询所有的员工，取返回值 d_id 部门id</div><div class="line">SELECT e.id , e.user_name , e.email ,e.gender ,e.d_id</div><div class="line">FROM tbl_employee e</div><div class="line"></div><div class="line">再根据 部门id 查询部门表</div><div class="line">SELECT id ,dept_name deptName FROM tbl_dept WHERE id = #&#123;id&#125;</div><div class="line">--&gt;</div><div class="line">	&lt;resultMap type=&quot;com.zst.bean.Employee&quot; id=&quot;EmployeeType2&quot;&gt;</div><div class="line">		&lt;id column=&quot;id&quot; property=&quot;id&quot; /&gt;</div><div class="line">		&lt;result column=&quot;user_name&quot; property=&quot;lastName&quot; /&gt;</div><div class="line">		&lt;result column=&quot;email&quot; property=&quot;email&quot; /&gt;</div><div class="line">		&lt;result column=&quot;gender&quot; property=&quot;gender&quot; /&gt;</div><div class="line">		&lt;!-- </div><div class="line">				association定义关联对象的封装规则</div><div class="line">				select:表明当前属性是调用指定的方法查出的结果</div><div class="line">				column:指定将哪一列的值传给这个方法</div><div class="line">		 --&gt;</div><div class="line">		&lt;!-- &lt;association property=&quot;depart&quot; select=&quot;getDepartById&quot;  column=&quot;d_id&quot;&gt;&lt;/association&gt; --&gt;</div><div class="line">		&lt;association property=&quot;depart&quot; select=&quot;com.zst.mapper.DepartmentMapper&quot;  column=&quot;d_id&quot;&gt;&lt;/association&gt;</div><div class="line">	&lt;/resultMap&gt;</div><div class="line">	</div><div class="line">	&lt;!--   </div><div class="line">			放在了 DepartmentMapper.xml 中</div><div class="line">			&lt;select id=&quot;getDepartById&quot; resultType=&quot;com.zst.bean.Department&quot;&gt;</div><div class="line">					SELECT id ,dept_name deptName FROM tbl_dept WHERE id = #&#123;id&#125;</div><div class="line">			&lt;/select&gt;</div><div class="line">	--&gt;</div><div class="line"></div><div class="line">&lt;!-- 	public List&lt;Employee&gt; getAllEmployee(); --&gt;</div><div class="line">	&lt;select id=&quot;getAllEmployee&quot; resultMap=&quot;EmployeeType2&quot;&gt;</div><div class="line">		SELECT e.id , e.user_name , e.email ,e.gender ,e.d_id</div><div class="line">		FROM tbl_employee e</div><div class="line">	&lt;/select&gt;</div></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="MyBatis-缓存"><a href="#MyBatis-缓存" class="headerlink" title="MyBatis 缓存"></a>MyBatis 缓存</h3><blockquote>
<p>一级缓存（本地缓存）:SqlSession级别的缓存，一级缓存是一直开启的，方法之间不共用<br>以后如果需要获取相同的数据，直接从缓存中拿，没必要再去查询数据库。</p>
</blockquote>
<p>一级缓存失效的四种情况</p>
<ol>
<li>使用不同的 SqlSession 执行相同的查询</li>
<li>SqlSession 相同，查询条件不一样，当前缓存中还有第二次查询的数据</li>
<li>SqlSession 相同，两次相同查询之间执行了影响到查询结果的增删改操作</li>
<li>SqlSession 相同，手动清除一级缓存（执行 SqlSession clearCache()方法）</li>
</ol>
<p><strong>当关闭 SqlSession 时，一级缓存中的数据就消失，此对象放入缓存中</strong></p>
<p>二级缓存：基于 namespace 级别的缓存:一个 namespace 对应一个二级缓存。<br>能跨 SqlSession 的缓存为二级缓存，多个 SqlSession 对象之间可共享二级缓存</p>

    

    
</div>


                

                <!-- Post Comments -->
                
                    
    <!-- 使用 DISQUS -->
<div id="disqus-comment">
    <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_config = function () {
        this.page.url = 'https://pliza.github.io/2017/09/01/MyBatis-学习/';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'https://pliza.github.io/2017/09/01/MyBatis-学习/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
</script>
<script type="text/ls-javascript" id="disqus-thread-script">
    queue.offer(function() {
            (function() { // DON'T EDIT BELOW THIS LINE
                var d = document;
                var s = d.createElement('script');
                s.src = '//https-pliza.disqus.com/embed.js';
                s.setAttribute('data-timestamp', + new Date());
                (d.head || d.body).appendChild(s);
            })();
        });
</script>

</div>
<style>
    #disqus-comment{
        background-color: #eee;
        padding: 2pc;
    }
</style>

                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2017/09/06/Java基础/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2017/08/29/Spring学习笔记之AOP/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/avatar.jpg" alt="枫子翰's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        zhoust_Pliza@163.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="#" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
            <li class="divider"></li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2017/09/">九月 2017<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/08/">八月 2017<span class="sidebar_archives-count">8</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">chrome_reader_mode</i>
                
                分类
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
                <li>
                
            </ul>
        </li>
        
    

    <!-- Pages  -->
    

    <!-- Article Number  -->
    
        <li>
            <a href="/archives">
                文章总数
                <span class="sidebar-badge">11</span>
            </a>
        </li>
        
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->

    <a href="https://github.com/viosey/hexo-theme-material"  class="sidebar-footer-text-a" target="_blank">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
            主题 - Material
            <span class="sidebar-badge badge-circle">i</span>
        </div>
    </a>


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    

    <!-- Facebook -->
    

    <!-- Google + -->
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    
        <a href="https://github.com/Pliza" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-github">
                <span class="visuallyhidden">Github</span>
            </button><!--
     --></a>
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;2017&nbsp;-<script type="text/javascript">var fd = new Date();document.write("&nbsp;" + fd.getFullYear() + "&nbsp;");</script>Hexo
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import File -->


    <script>lsloader.load("js/lazyload.min.js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==")</script>
    <script>lsloader.load("js/js.min.js","/js/js.min.js?oAl/+lvaqTFV31JXTmbrNA==")</script>



    <script>lsloader.load("js/nprogress.js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==")</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>









   <!-- 使用 DISQUS js 代码 -->
<script id="dsq-count-scr" src="//https-pliza.disqus.com/count.js" async></script>





<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Window Load-->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });
</script>

<!-- MathJax Load-->

<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Bing Background -->


<script>
    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.4.0 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>
